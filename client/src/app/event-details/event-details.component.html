<div class="event-details">
  <h1>{{ eventDetails?.event.name }}</h1>
  <div class="dates">{{ eventDetails?.event.startDate }} - {{ eventDetails?.event.endDate }}</div>

  <div class="description">{{ eventDetails?.event.description }}</div>

  <div class="platoons">
    <div class="platoon clickable" *ngFor="let p of eventDetails?.platoonList" (click)="onSelectPlatoon(p)" [class.selected]="p == selectedPlatoon">
      <span class="unselectable"><h4>{{ p.name }}</h4></span>
    </div>
  </div>

  <ul class="participantgroup-list">
    <li *ngFor="let g of selectedPlatoon?.participantGroups">
      <div class="group-item unselectable clickable" (click)="onSelectGroup(g)">{{ g.name }}</div>
    </li>
  </ul>

  <button class="btn btn-primary create-group-button" (click)="onNewGroup()">Ilmoita uusi ryhmÃ¤</button>
</div>

<app-group-modal>
  <div class="group-modal-header">
    <b>Ilmottautuminen</b>
  </div>
  <div class="group-modal-body form-group">
    <form (ngSubmit)="onSubmit()" #groupForm="ngForm">
      <div class="form-group">
        <label for="name">Nimi</label>
        <input type="text" class="form-control" id="name" required [(ngModel)]="group.name" name="name" #name="ngModel">
        <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
          Nimi on pakollinen
        </div>
      </div>
      <div class="form-group">
        <label for="description">Kuvaus</label>
        <input type="text" class="form-control" id="description" [(ngModel)]="group.description" name="description">
      </div>
      <button type="submit" class="btn btn-primary" [disabled]="!groupForm.form.valid">Ilmottaudu</button>
      <button type="button" class="btn btn-default" (click)="modal.hide()">Peruuta</button>
    </form>
  </div>
</app-group-modal>